{% extends 'base.html' %}
{% load static %}

{% block content %}
  <div class="banner-wrapper bg-light">
    <div id="index_banner" class="banner-vertical-center-index container-fluid pt-5">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" style="max-width: 1140px; margin: 0 auto;">
        <ol class="carousel-indicators mb-4">
          <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active rounded-circle" style="width: 12px; height: 12px;"></li>
          <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" class="rounded-circle" style="width: 12px; height: 12px;"></li>
          <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" class="rounded-circle" style="width: 12px; height: 12px;"></li>
        </ol>
        <div class="carousel-inner rounded-4 shadow-lg overflow-hidden">
          <div class="carousel-item active bg-white p-5">
            <div class="py-5 row d-flex align-items-center">
              <div class="banner-content col-lg-8 col-10 offset-1 offset-lg-2 text-start">
                <h1 class="banner-heading h1 text-secondary display-3 mb-3 fw-bold" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                  üè† –ù–∞–π–¥–∏ <strong>–¥–æ–º</strong> —Å–≤–æ–µ–π<br>–º–µ—á—Ç—ã
                </h1>
                <p class="banner-body text-muted fs-5">
                  –ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –∫–≤–∞—Ä—Ç–∏—Ä—É –∏–ª–∏ –¥–æ–º –Ω–∞ –ª—é–±–æ–π –≤–∫—É—Å –∏ –∫–æ—à–µ–ª–µ–∫.
                </p>
              </div>
            </div>
          </div>
          <div class="carousel-item bg-white p-5">
            <div class="py-5 row d-flex align-items-center">
              <div class="banner-content col-lg-8 col-10 offset-1 offset-lg-2 text-start">
                <h1 class="banner-heading h1 text-secondary display-3 mb-3 fw-semibold" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                  üìç –¢–≤–æ–π —É—é—Ç ‚Äî –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–¥–µ—Å—å
                </h1>
              </div>
            </div>
          </div>
          <div class="carousel-item bg-white p-5">
            <div class="py-5 row d-flex align-items-center">
              <div class="banner-content col-lg-8 col-10 offset-1 offset-lg-2 text-start">
                <h1 class="banner-heading h1 text-secondary display-3 mb-3 fw-semibold" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                  üßò –ú–∏–Ω–∏–º—É–º —Å—Ç—Ä–µ—Å—Å–∞ ‚Äî –º–∞–∫—Å–∏–º—É–º —É—é—Ç–∞
                </h1>
              </div>
            </div>
          </div>
        </div>
        <a class="carousel-control-prev text-decoration-none" href="#carouselExampleIndicators" role="button" data-bs-slide="prev">
          <i class='bx bx-chevron-left fs-1 text-primary'></i>
          <span class="visually-hidden">Previous</span>
        </a>
        <a class="carousel-control-next text-decoration-none" href="#carouselExampleIndicators" role="button" data-bs-slide="next">
          <i class='bx bx-chevron-right fs-1 text-primary'></i>
          <span class="visually-hidden">Next</span>
        </a>
      </div>
    </div>
  </div>

  <section class="service-wrapper py-5">
    <div class="container pb-3">
      <section class="services-section bg-white rounded-4 shadow-sm p-5">
        <h2 class="text-center mb-5 fw-bold" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
        <div class="row align-items-center">
          <div class="col-auto text-end pe-4">
            <i class='bx bx-gift h2 text-primary'></i>
          </div>
          <div class="col">
            <p class="text-muted fs-5 lh-lg" style="line-height: 1.75;">
              –ù–∞—à —Å–∞–π—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–æ–¥–∞–∂–µ –∏ –∞—Ä–µ–Ω–¥–µ –∫–≤–∞—Ä—Ç–∏—Ä, –¥–æ–º–æ–≤ –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.
              –í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –æ–±—ä–µ–∫—Ç –ø–æ —Ç–∞–∫–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º, –∫–∞–∫ –≥–æ—Ä–æ–¥, —Ä–∞–π–æ–Ω, —Ç–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, —Ü–µ–Ω–∞ –∏ –ø–ª–æ—â–∞–¥—å.
              –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –∞ —Ç–∞–∫–∂–µ –ø—Ä—è–º—É—é —Å–≤—è–∑—å —Å –ø—Ä–æ–¥–∞–≤—Ü–∞–º–∏ –∏ –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
              –ù–∞—à–∞ –±–∞–∑–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, —á—Ç–æ–±—ã –≤—ã –ø–æ–ª—É—á–∞–ª–∏ —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
              –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
              –ú—ã –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–º–æ—á—å –≤ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π.
            </p>
          </div>
        </div>
      </section>

      <section class="py-5 mb-5">
                <div class="container">
                    <div class="recent-work-header row text-center pb-5">
                        <h2 class="col-md-6 m-auto h2 semi-bold-600 py-5">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                    </div>
                    <div class="row gy-5 g-lg-5 mb-4">
                        <div class="d-flex overflow-auto gap-4 py-3">
  {% for category in parent_categories %}
    <div style="flex: 0 0 auto;">
      <a href="{% url 'category_detail' category.id %}" class="recent-work card border-0 shadow-lg overflow-hidden"
         style="height: 350px; width: 350px; transition: transform 0.3s ease;">
        <img class="recent-work-img card-img fixed-img" src="{{ category.cover.url }}" alt="{{ category.title }}"
             style="height: 100%; width: 100%; object-fit: cover;" loading="lazy">
        <div class="recent-work-vertical card-img-overlay d-flex align-items-end">
          <div class="recent-work-content text-start mb-3 ml-3 text-dark">
            <h3 class="card-title light-300">{{ category.title }}</h3>
          </div>
        </div>
      </a>
    </div>
  {% endfor %}
</div>

<style>

  .recent-work.card:hover {
    transform: scale(1.05);
    box-shadow: 0 15px 35px rgba(0,0,0,0.25);
  }
</style>



        <h2 class="text-center mb-5 fw-bold" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</h2>
        <div class="row gy-4 mt-4">
          {% for estate in estates %}
            <div class="col-md-4">
              <a href="{% url 'detail' estate.id %}" class="text-decoration-none text-dark">
                <div class="card h-100 shadow-sm rounded-4 overflow-hidden" style="transition: box-shadow 0.3s ease;">
                  <img src="{{ estate.mail_cover.url }}" alt="{{ estate.title }}" loading="lazy" style="height: 200px; object-fit: cover; border-radius: 12px 12px 0 0;">
                  <div class="card-body d-flex flex-column justify-content-between p-4">
                    <div>
                      <h5 class="card-title fw-semibold mb-2" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">{{ estate.title }}</h5>
                      <p class="card-text text-muted" style="font-size: 0.95rem;">{{ estate.description|truncatechars:100 }}</p>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mt-3">
                      {% if estate.is_favourite %}
                        <a href="{% url 'estate_like' estate.id %}" class="btn btn-sm btn-danger" style="font-weight: 600;">–£–±—Ä–∞—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</a>
                      {% else %}
                        <a href="{% url 'estate_like' estate.id %}" class="btn btn-sm btn-outline-primary" style="font-weight: 600;">–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
                      {% endif %}
                    </div>
                  </div>
                </div>
              </a>
            </div>
          {% endfor %}
        </div>
      </section>
    </div>
  </section>
{% endblock %}
